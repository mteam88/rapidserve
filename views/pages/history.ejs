<!DOCTYPE html>
<html>
  <head>
    <%- include('../partials/_head') %>
    <link rel="stylesheet" href="public/assets/indexstyle.css">
  </head>
  <body id="grad">
    <div id="sidebar" class="sidebar">
      <span style="position: absolute;top:10px;"><img style="width: 55px;height: 55px;margin: 10px;" src="public/assets/profile-icon.png"><span class="sidebar-text" style="bottom: 22px;color:white"><b>Profile</b></span></span>
      <span style="position: absolute;top:105px;"><img style="width: 55px;height: 55px;margin: 10px;" src="public/assets/settings-icon.jpg"><span class="sidebar-text" style="bottom: 22px;color:white"><b>Settings</b></span></span>
      <span style="position: absolute;top:195px;"><img style="width: 55px;height: 55px;margin: 10px;" src="public/assets/favorites-icon.png"><span class="sidebar-text" style="bottom: 22px;color:white"><b>Favorites</b></span></span>
      <span style="position: absolute;top:285px;"><img style="width: 55px;height: 55px;margin: 10px;" src="public/assets/history-icon.png"><span class="sidebar-text" style="bottom: 22px;color:white"><b>History</b></span></span>
      <span style="position: absolute;top:375px;"><img style="width: 55px;height: 55px;margin: 10px;" src="public/assets/about-icon.png"><span class="sidebar-text" style="bottom: 22px;color:white"><b>About</b></span></span>
      <span style="position: absolute;bottom:10px;"><img style="width: 55px;height: 55px;margin: 10px;" src="public/assets/logout-icon.png"><span class="sidebar-text" style="bottom: 22px;color:red"><b>Logout</b></span></span>
    </div>
    <div id="content" class="content">
      <div class="topnav shadow">
        <a class="navlogospot" href="/home"><img class="navlogo" src="/public/assets/Rlogo.png"></img></a>
        <a href="rapidpoll">Poll</a>
        <a href="rapidorder">Order</a>
        <a href="info">Info</a>
      </div>
  
      <h1 class="bubbleheader">History</h1>
      <div id="history">

      </div>
    </div>
    <script>
        var history = JSON.parse(localStorage.getItem("history"));
        if (!history) {
            history = [{order:010001110000,order-time:Date.now()}];
        }
        var loopAmount = history.length;
        for (var i = 0;i < loopAmount;i++) {
            var historyItem = history[i];
            var orderFormatted = "";
            for (const [index, element] of historyItem.order.toString().split('').entries()) {
                if (element == 1) {
                    orderFormatted += ", " + menuObjectCode[index];
                }
            }
            var orderDiv = document.createElement("div");
            orderDiv.id = "history-item" + i;
            orderDiv.classList.add("history-item");
            var orderHeader = document.createElement("h2");
            orderHeader.innerHTML = "History Item " + (i + 1);
            orderDiv.appendChild(orderHeader);
            var order = document.createElement("span");
            order.innerHTML = orderFormatted.replace(", ","");
            orderDiv.appendChild(order);
        }
    </script>
  </body>
</html>